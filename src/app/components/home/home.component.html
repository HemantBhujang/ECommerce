<!-- Categories Section with Enhanced UI -->
<div class="categories-section py-4 bg-light mt-3">
  <div class="container">
    <!-- <h2 class="section-title mb-4">Shop By Category</h2> -->
    <div class="row g-4 justify-content-center">
      <div
        class="col-4 col-sm-3 col-md-2 mb-3"
        *ngFor="let category of categories"
      >
        <div class="category-card" (click)="navigateCategory(category.path)">
          <div class="category-icon-wrapper mb-3">
            <img
              [src]="getCategoryImage(category.name)"
              alt="{{ category.name }}"
              class="img-fluid category-img"
            />
          </div>
          <h6
            class="category-name text-center"
            (click)="navigateCategory(category.path)"
          >
            {{ category.name }}
          </h6>

          <!-- Flyout menu on hover -->
          <div class="category-flyout shadow">
            <div class="row g-0">
              <div class="col-md-4" *ngFor="let sub of category.subcategories">
                <h6 class="fw-bold mb-2" (click)="navigateCategory(sub.path)">
                  {{ sub.name }}
                </h6>
                <ul class="list-unstyled">
                  <li *ngFor="let child of sub.children">
                    <a
                      (click)="
                        navigateCategory(child.path); $event.stopPropagation()
                      "
                      >{{ child.name }}</a
                    >
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="hero-slider">
  <div id="fashionCarousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
      <button
        type="button"
        data-bs-target="#fashionCarousel"
        data-bs-slide-to="0"
        class="active"
        aria-current="true"
      ></button>
      <button
        type="button"
        data-bs-target="#fashionCarousel"
        data-bs-slide-to="1"
      ></button>
      <button
        type="button"
        data-bs-target="#fashionCarousel"
        data-bs-slide-to="2"
      ></button>
    </div>

    <div class="carousel-inner">
      <!-- Slide 1 -->
      <div class="carousel-item active">
        <div class="slider-container">
          <div class="content-wrapper">
            <div class="slider-content">
              <span class="season-tag">New Season</span>
              <h2 class="collection-title">Summer Collection</h2>
              <p class="collection-desc">
                Explore top trending styles for your perfect beach getaway
              </p>
              <a href="#" class="shop-btn">Shop Now</a>
            </div>
          </div>
          <div class="image-wrapper">
            <img
              src="../../../assets/summer collection.jpeg"
              alt="Summer collection clothing"
            />
          </div>
        </div>
      </div>

      <!-- Slide 2 -->
      <div class="carousel-item">
        <div class="slider-container">
          <div class="content-wrapper">
            <div class="slider-content">
              <span class="season-tag">Trending</span>
              <h2 class="collection-title">Casual Wear</h2>
              <p class="collection-desc">
                Comfort meets style with our exclusive casual collection
              </p>
              <a href="#" class="shop-btn">Shop Now</a>
            </div>
          </div>
          <div class="image-wrapper">
            <img
              src="https://s7d4.scene7.com/is/image/KG/19-1762448_KG_SUMMER_0506_02_MOB?scl=1&qlt=90"
              alt="Casual wear collection"
            />
          </div>
        </div>
      </div>

      <!-- Slide 3 -->
      <div class="carousel-item">
        <div class="slider-container">
          <div class="content-wrapper">
            <div class="slider-content">
              <span class="season-tag">Premium</span>
              <h2 class="collection-title">Designer Outfits</h2>
              <p class="collection-desc">
                Premium quality at affordable prices
              </p>
              <a href="#" class="shop-btn">Shop Now</a>
            </div>
          </div>
          <div class="image-wrapper">
            <img
              src="../../../assets/traditional.jpg"
              alt="Designer outfits collection"
            />
          </div>
        </div>
      </div>
    </div>

    <button
      class="carousel-control-prev"
      type="button"
      data-bs-target="#fashionCarousel"
      data-bs-slide="prev"
    >
      <span class="carousel-control-icon">
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M15 18L9 12L15 6"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </span>
      <span class="visually-hidden">Previous</span>
    </button>

    <button
      class="carousel-control-next"
      type="button"
      data-bs-target="#fashionCarousel"
      data-bs-slide="next"
    >
      <span class="carousel-control-icon">
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M9 18L15 12L9 6"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
</div>

<!-- New Arrivals Section -->
<div class="product-section py-5">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="section-title">New Arrivals</h2>
      <!-- <button class="btn custom-outline" (click)="showMoreNewArrivals()">
        View All
      </button> -->
    </div>

    <div class="row g-4">
      <div class="col-6 col-md-3 mb-4" *ngFor="let product of newArrivals">
        <div class="product-card h-100 shadow-sm rounded overflow-hidden">
          <div class="product-image-container position-relative">
            <img
              [src]="product.image"
              class="card-img-top product-image"
              alt="{{ product.name }}"
              (click)="productDetailsPage(product.id!)"
            />
            <div class="product-actions">
              <button
                class="btn action-btn wishlist-btn"
                (click)="toggleWishlist(product); $event.stopPropagation()"
              >
                <i
                  [class]="
                    isInWishlist(product.id!)
                      ? 'bi bi-heart-fill text-danger'
                      : 'bi bi-heart'
                  "
                ></i>
              </button>
              <button
                class="btn action-btn cart-btn"
                (click)="
                  productDetailsPage(product.id!); $event.stopPropagation()
                "
              >
                <i class="bi bi-eye"></i>
              </button>
            </div>
            <span class="badge position-absolute top-0 start-0 m-2 bg-danger"
              >NEW</span
            >
          </div>
          <div class="product-info p-3">
            <h6 class="product-title" (click)="productDetailsPage(product.id!)">
              {{ product.name }}
            </h6>
            <div class="d-flex justify-content-between align-items-center">
              <div class="product-price">
                <span class="new-price fw-bold"
                  >₹{{ product.discount_price }}</span
                >
                <span
                  class="old-price text-decoration-line-through text-muted small ms-2"
                  >₹{{ product.old_price }}</span
                >
              </div>
              <button
                class="btn btn-sm rounded-circle amazon-btn add-to-cart-btn"
                (click)="addToCart(product); $event.stopPropagation()"
                [disabled]="isInCart(product.id!)"
              >
                <i
                  [class]="isInCart(product.id!) ? 'bi bi-check' : 'bi bi-plus'"
                ></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Deal of the Day -->
<div class="deal-section py-4">
  <div class="container">
    <div class="deal-wrapper p-4 rounded">
      <div class="row align-items-center">
        <div class="col-md-6">
          <h2 class="section-title mb-2">Deal of the Day</h2>
          <p class="mb-3">Special offer ends in:</p>
          <div class="countdown d-flex mb-3">
            <div class="countdown-item">
              <span class="countdown-number">{{ countdownHours }}</span>
              <span class="countdown-label">Hours</span>
            </div>
            <div class="countdown-item">
              <span class="countdown-number">{{ countdownMinutes }}</span>
              <span class="countdown-label">Minutes</span>
            </div>
            <div class="countdown-item">
              <span class="countdown-number">{{ countdownSeconds }}</span>
              <span class="countdown-label">Seconds</span>
            </div>
          </div>
          <button
            class="btn btn-dark"
            (click)="productDetailsPage(dealOfTheDay?.id!)"
          >
            Shop Now
          </button>
        </div>
        <div class="col-md-6" *ngIf="dealOfTheDay">
          <div class="deal-product">
            <img
              [src]="dealOfTheDay.image"
              class="img-fluid rounded"
              alt="{{ dealOfTheDay.name }}"
            />
            <div class="deal-details mt-3">
              <h4>{{ dealOfTheDay.name }}</h4>
              <div class="price-wrapper">
                <span class="old-price text-decoration-line-through text-muted"
                  >₹{{ dealOfTheDay.old_price }}</span
                >
                <span class="new-price text-danger fw-bold ms-2"
                  >₹{{ dealOfTheDay.discount_price }}</span
                >
              </div>
              <span class="discount-badge badge bg-danger"
                >{{ dealOfTheDay.discount }}% OFF</span
              >
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Trending Products Section -->
<div class="product-section py-5">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="section-title">Trending Now</h2>
      <!-- <button class="btn custom-outline" (click)="showMoreTrending()">
        View All
      </button> -->
    </div>

    <div class="row g-4">
      <div class="col-6 col-md-3 mb-4" *ngFor="let product of trendingProducts">
        <div class="product-card h-100 shadow-sm rounded overflow-hidden">
          <div class="product-image-container position-relative">
            <img
              [src]="product.image"
              class="card-img-top product-image"
              alt="{{ product.name }}"
              (click)="productDetailsPage(product.id!)"
            />
            <div class="product-actions">
              <button
                class="btn action-btn wishlist-btn"
                (click)="toggleWishlist(product); $event.stopPropagation()"
              >
                <i
                  [class]="
                    isInWishlist(product.id!)
                      ? 'bi bi-heart-fill text-danger'
                      : 'bi bi-heart'
                  "
                ></i>
              </button>
              <button
                class="btn action-btn cart-btn"
                (click)="
                  productDetailsPage(product.id!); $event.stopPropagation()
                "
              >
                <i class="bi bi-eye"></i>
              </button>
            </div>
            <span
              class="badge position-absolute top-0 start-0 m-2 bg-warning text-dark"
              >TRENDING</span
            >
          </div>
          <div class="product-info p-3">
            <h6 class="product-title" (click)="productDetailsPage(product.id!)">
              {{ product.name }}
            </h6>
            <div class="d-flex justify-content-between align-items-center">
              <div class="product-price">
                <span class="new-price fw-bold"
                  >₹{{ product.discount_price }}</span
                >
                <span
                  class="old-price text-decoration-line-through text-muted small ms-2"
                  >₹{{ product.old_price }}</span
                >
              </div>
              <button
                class="btn btn-sm rounded-circle amazon-btn add-to-cart-btn"
                (click)="addToCart(product); $event.stopPropagation()"
                [disabled]="isInCart(product.id!)"
              >
                <i
                  [class]="isInCart(product.id!) ? 'bi bi-check' : 'bi bi-plus'"
                ></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Explore more products -->
<div class="product-section py-5">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="section-title">Explore More Products</h2>
      <button class="btn custom-outline" (click)="exploreMoreProducts()">
        View All
      </button>
    </div>

    <div class="row g-4">
      <div class="col-6 col-md-3 mb-4" *ngFor="let product of products">
        <div class="product-card h-100 shadow-sm rounded overflow-hidden">
          <div class="product-image-container position-relative">
            <img
              [src]="product.image"
              class="card-img-top product-image"
              alt="{{ product.name }}"
              (click)="productDetailsPage(product.id!)"
            />
            <div class="product-actions">
              <button
                class="btn action-btn wishlist-btn"
                (click)="toggleWishlist(product); $event.stopPropagation()"
              >
                <i
                  [class]="
                    isInWishlist(product.id!)
                      ? 'bi bi-heart-fill text-danger'
                      : 'bi bi-heart'
                  "
                ></i>
              </button>
              <button
                class="btn action-btn cart-btn"
                (click)="
                  productDetailsPage(product.id!); $event.stopPropagation()
                "
              >
                <i class="bi bi-eye"></i>
              </button>
            </div>
          </div>
          <div class="product-info p-3">
            <h6 class="product-title" (click)="productDetailsPage(product.id!)">
              {{ product.name }}
            </h6>
            <div class="d-flex justify-content-between align-items-center">
              <div class="product-price">
                <span class="new-price fw-bold"
                  >₹{{ product.discount_price }}</span
                >
                <span
                  class="old-price text-decoration-line-through text-muted small ms-2"
                  >₹{{ product.old_price }}</span
                >
              </div>
              <button
                class="btn btn-sm rounded-circle amazon-btn add-to-cart-btn"
                (click)="addToCart(product); $event.stopPropagation()"
                [disabled]="isInCart(product.id!)"
              >
                <i
                  [class]="isInCart(product.id!) ? 'bi bi-check' : 'bi bi-plus'"
                ></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>
